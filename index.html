<script>
document.getElementById('claimForm').addEventListener('submit', function(event) {
    event.preventDefault();

    // Get the form data values
    const name = document.getElementById('name').value;
    const sex = document.getElementById('sex').value;
    const age = document.getElementById('age').value;
    const email = document.getElementById('email').value;
    const message = document.getElementById('message').value;

    // Cloudflare Worker URL (your actual Worker URL)
    const cloudflareWorkerURL = 'https://luketan-proxy.yongleng1989.workers.dev';  // <-- Your Cloudflare Worker URL

    // Create a data object to send to the Cloudflare Worker
    const formData = {
        name: name,
        sex: sex,
        age: age,
        email: email,
        message: message,
    };

    // Send the form data to Cloudflare Worker
    fetch(cloudflareWorkerURL, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(formData),  // Convert form data to JSON format
    })
    .then(response => response.json())
    .then(data => {
        // Handle success or failure response from Cloudflare Worker
        if (data.status === 'success') {
            document.getElementById('confirmationMessage').textContent = "Your claim has been submitted successfully!";
            document.getElementById('claimForm').reset(); // Clear the form after submission
        } else {
            document.getElementById('confirmationMessage').textContent = "Error: Unable to send the message.";
        }
    })
    .catch(error => {
        document.getElementById('confirmationMessage').textContent = "Error: Unable to connect to the server.";
    });
});
</script>
